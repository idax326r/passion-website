<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="generel.css" />
    <link rel="stylesheet" href="spisesteder.css" />
    <title>Spisesteder</title>
  </head>
  <body>


    <header class="banner">
      <div class="logo">
        <a href="forside.html"><img src="svg/logo.svg" alt="logo" /></a>
      </div>
      <nav class="main-menu">
        <button class="toggle-btn"><img src="svg/burgermenu.svg" alt="burgermenu" /></button>
        <ul>
          <li><a href="spisesteder.html">Spisesteder</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li class="valgt"><a href="omos.html">Om os</a></li>
        </ul>
      </nav>
      
    </header>





    <main>

            <h1 class="lokation_heading">LOKATION?</h1>

              <nav id="nav">
                <button data-lokation= "alle" id="helekbh" class="valgt"></button>
                <button data-lokation= "Nørrebro" class="noerrebro"></button>
                <button data-lokation= "København K" class="koebenhavnk"></button>
                <button data-lokation= "Vesterbro" class="vesterbro"></button>
                <button data-lokation= "Amager" class="amager"></button>
                <button data-lokation= "Frederiksberg" class="frederiksberg"></button>
              </nav>
       

<div class="main_spisesteder">

<div class="top5_instagram_container">
  <div class="top5_container">
      <h2 class="top5_heading">TOP 5</h2>
      <div class="top5_top5">
         
              <h4>1. Babylon</h4>
              <p>Ud til Søerne i København ligger en af byens mest ikoniske bygninger, Søpavillonen…</p><br />
              
              <h4>2. Cicchetti</h4>
              <p>Den lille restaurant på Nørrebro er opkaldt efter det italienske ord for salte snacks og små, lækre retter…</p><br />
      
              <h4>3. Baka d’Busk</h4>
              <p>Den vegetariske restaurant og bistro på Rantzausgade er hurtigt blevet en Nørrebro-favorit for…</p><br />
      
              <h4>4. Propaganda</h4>
              <p>Lige ved den ikoniske mælkebue ved Hovedbanegården ligger Propaganda, der åbnede…</p><br />
      
              <h4>5. ØsterGro</h4>
              <p>Du skal vide, at det er der, ØsterGro, for du kan ikke se det fra gaden. ØsterGro er…</p><br />
      
      </div>
  </div>

  

  <div class="instagram_container">
      <h2 class="instagram_heading">INSTAGRAM</h2>
      <div class="instagram_galleri">
          <img src="billeder/esmee.webp" alt="instagram_galleri">
          <img src="billeder/apollo.webp" alt="instagram_galleri">
          <img src="billeder/tonkin1.webp" alt="instagram_galleri">
          <img src="billeder/vino2.webp" alt="instagram_galleri">
          <img src="billeder/pasta1.webp" alt="instagram_galleri">
          <img src="billeder/otto2.webp" alt="instagram_galleri">
          <img src="billeder/camino2.webp" alt="instagram_galleri">
          <img src="billeder/ff2.webp" alt="instagram_galleri">
          
      </div>
  </div>



</div>
     
<div class="spisesteder_2">

<section id="spisesteder_container"></section>
<template>

        <article class="spisesteder_box">
            <img class="billede" src="" alt="">
            <h4 class="navn"></h4>

            <div class="adresse_prisklasse">
                <div class="adresse_container">
                <img src="svg/adresse.svg" alt="">
                <h5 class="adresse"></h5>    
                </div>
        
                <div class="prisklasse_container">
                <img src="svg/prisklasse.svg" alt="">
                <h5 class="prisniveau"></h5>     
                </div>


            </div>

            <p class="overskrift"></p> 

            <div class="se_mere_container">
              <button class="se_mere">SE MERE</button>
            </div>   
          </article>


        </template>




        <div id="popup">
          <article class="articlepopup">
            <div class="popup_billede_container">
                            <img class="billedurl" src="" alt="">  

            </div>

           
              <div class="se_mere_info">
                  <h2 class="navn"></h2>
                  <p class="mad_stedet"></p>    
                   

              <div class="adr_pris_vibe_serv">
                    <div class="adresse_container_popup">
                    <img src="svg/adresse.svg" alt="">
                    <h5 class="adresse_popup"></h5>    
                    </div>
            
                    <div class="prisklasse_container_popup">
                    <img src="svg/prisklasse.svg" alt="">
                    <h5 class="prisniveau_popup"></h5>     
                    </div>

                    <div class="vibe_container_popup">
                      <img src="svg/vibe.svg" alt="">
                      <h5 class="vibe_popup"></h5>    
                      </div>
              
                      <div class="service_container_popup">
                      <img src="svg/service.svg" alt="">
                      <h5 class="service_popup"></h5>     
                      </div>
              </div>
              <button class="se_mere_luk">Tilbage</button>  

              </div>

          </article>
      </div>


    </div>

    </div>
    </main>





    <footer>
      <hr />
        <div class="footer_flex">
          <p class="footer_left">
            The Delight Guide <br />
            Copenhagen, DK <br />
            + 45 23 45 67 89 <br />
            info@delightguide.dk <br />
            CVR 30302072
          </p>
  
          <p class="footer_right">
            <a href="spisesteder.html">Spisesteder</a><br />
            <a href="blog.html">Blog</a><br />
            <a href="omos.html">Om os</a>
          </p>
        </div>
      </footer>
        <div class="footer_rettigheder">
          <p>© 2022 The Delight Guide. All Rights Reserved.</p>
        </div>
  
















    <script src="header.js"></script>


    <script>
                
      //------------- Find dataerne og load dem
      
      const url = "https://delight-6272.restdb.io/rest/restauranter";
      const options = {
          headers:{
              'x-apikey': "631b0361fdc15b0265f17265"
          }
      };
      
      
        function myFunction() {
          const element = document.getElementById("nav");
          element.scrollIntoView();
         
        }




      //------------- Lytter efter om DOM er loadet og går til start funktion
      document.addEventListener("DOMContentLoaded", start);
      
      let lokation;
      let filter = "alle";

      
      //------------- Start funktion
      function start (){
        const filterknapper=document.querySelectorAll("#nav button");
                filterknapper.forEach(knap=> knap.addEventListener("click", filtrerRetter));
                hentData();
      }

      function filtrerRetter(){
                filter = this.dataset.lokation;
                document.querySelector(".valgt").classList.remove("valgt");
                this.classList.add("valgt")
              visRetter();
            }



      async function hentData(){
          const respons = await fetch (url, options);
          lokation = await respons.json();
          console.log(lokation);
          visRetter();
      }
      
      
      
      
      function visRetter(){

      //------------- Constanter laves til section og template
      
      const section = document.querySelector("section")
      const template = document.querySelector("template").content;
      
      
      // //------------- vis funktion 
      
      
        console.log("vis funktion virker!");

      // //------------- Reset alt i section

        section.textContent="";


        lokation.forEach((ret => {
    
    if(filter == ret.lokation || filter == "alle") {
       const klon = template.cloneNode(true);
    klon.querySelector(".se_mere").addEventListener("click", ()=> visDetaljer(ret));

    klon.querySelector(".billede").src = "billeder/" + ret.billednavn;
    klon.querySelector(".navn").textContent = ret.navn;
    klon.querySelector(".overskrift").textContent = ret.lilleTekst;
    klon.querySelector(".adresse").textContent = ret.lokation;

    klon.querySelector(".prisniveau").textContent = ret.prisniveau;
    // klon.querySelector(".service").textContent = ret.service;
    // klon.querySelector(".vibe").textContent = ret.vibe;



// detaljerknap
    section.appendChild(klon);
    }

}));

document.querySelector(".se_mere_luk").addEventListener("click", () => (popup.style.display = "none"));


function visDetaljer(rettensData){
console.log("popup virker lidt");
const popup =document.querySelector("#popup");
popup.style.display="flex";
popup.querySelector("h2").textContent = rettensData.navn;
popup.querySelector("img").src = "billeder/" + rettensData.billednavn;
popup.querySelector("p").textContent = rettensData.mad + rettensData.stedet;
popup.querySelector(".prisniveau_popup").textContent = rettensData.prisniveau;
popup.querySelector(".adresse_popup").textContent = rettensData.gade;
popup.querySelector(".service_popup").textContent = rettensData.service;
popup.querySelector(".vibe_popup").textContent = rettensData.vibe;


}


      
       }
      
      hentData(); 
      
      
      </script>
















