<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="generel.css" />
    <link rel="stylesheet" href="spisesteder.css" />
    <title>THE DELIGHT GUIDE | SPISESTEDER</title>
  </head>
  <body>


    <header class="banner">
      <div class="logo">
        <a href="forside.html"><img src="svg/logo.svg" alt="logo" /></a>
      </div>
      <nav class="main-menu">
        <button class="toggle-btn"><img src="svg/burgermenu.svg" alt="burgermenu" /></button>
        <ul>
          <li><a href="spisesteder.html">Spisesteder</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li class="valgt"><a href="omos.html">Om os</a></li>
        </ul>
      </nav>
      
    </header>




    <main>

        <div class="lokation_container">
            <h1 class="lokation_heading">LOKATION?</h1>
            <div class="lokation_buttons">
                <button class="vesterbro"></button>
                <button class="noerrebro"></button>
                <button class="koebenhavnk"></button>
                <button class="frederiksberg"></button>
            </div>
        </div>

<div class="main_spisesteder">
  <div class="sorter_container">
    <h2 class="sorter_heading">SORTER</h2>
    <h3 class="kategoriheading"></h3>


    <nav class="sorter_buttons">
          <!-- // der er noget i vejen med restdb og kategorierne herunder -->
            <button data-retter= "alle" class="sortervalgt">ALLE</button>
            <button data-retter= "prisniveau">PRICEY</button>
            <button data-retter= "prisniveau" >LOW-COST</button>
            <button data-retter= "vibe">CASUAL VIBE</button>
            <button data-retter= "vibe">FANCY VIBE</button>
            <button data-retter= "typeSpisested">RESTAURANT</button>
            <button data-retter= "typeSpisested">BAR</button>
            <button data-retter= "typeSpisested">BAGERI</button>
    </nav>
</div>


    

<section id="spisesteder_container"></section>
<template>

        <article class="spisesteder_box">
            <img class="billede" src="" alt="">
            <h4 class="navn"></h4>

            <div class="adresse_prisklasse">
                <div class="adresse_container">
                <img src="svg/adresse.svg" alt="">
                <h5 class="adresse"></h5>    
                </div>
        
                <div class="prisklasse_container">
                <img src="svg/prisklasse.svg" alt="">
                <h5 class="prisniveau"></h5>     
                </div>
            </div>

            <p class="overskrift"></p> 

            <div class="se_mere_container">
              <button class="se_mere">SE MERE</button>
            </div>   
          </article>


        </template>





<div class="top5_instagram_container">
    <div class="top5_container">
        <h2 class="top5_heading">TOP 5</h2>
        <div class="top5_top5">
           
                <h4>1. Babylon</h4>
                <p>Ud til Søerne i København ligger en af byens mest ikoniske bygninger, Søpavillonen…</p><br />
                
                <h4>2. Cicchetti</h4>
                <p>Den lille restaurant på Nørrebro er opkaldt efter det italienske ord for salte snacks og små, lækre retter…</p><br />
        
                <h4>3. Baka d’Busk</h4>
                <p>Den vegetariske restaurant og bistro på Rantzausgade er hurtigt blevet en Nørrebro-favorit for…</p><br />
        
                <h4>4. Propaganda</h4>
                <p>Lige ved den ikoniske mælkebue ved Hovedbanegården ligger Propaganda, der åbnede…</p><br />
        
                <h4>5. ØsterGro</h4>
                <p>Du skal vide, at det er der, ØsterGro, for du kan ikke se det fra gaden. ØsterGro er…</p><br />
          

      </div>


</div>

    

    <div class="instagram_container">
        <h2 class="instagram_heading">INSTAGRAM</h2>
        <div class="instagram_galleri">
            <img src="billeder/esmee.webp" alt="instagram_galleri">
            <img src="billeder/apollo.webp" alt="instagram_galleri">
            <img src="billeder/tonkin1.webp" alt="instagram_galleri">
            <img src="billeder/vino2.webp" alt="instagram_galleri">
            <img src="billeder/pasta1.webp" alt="instagram_galleri">
            <img src="billeder/otto2.webp" alt="instagram_galleri">
            <img src="billeder/camino2.webp" alt="instagram_galleri">
            <img src="billeder/ff2.webp" alt="instagram_galleri">
            
        </div>
    </div>



</div>
       

      </div>
    </main>

    <footer>
        <div class="footer_line"></div>
        <div class="footer_flex">
          <p class="footer_left">
            The Delight Guide <br />
            Copenhagen, DK <br />
            + 45 23 45 67 89 <br />
            info@delightguide.dk <br />
            CVR 30302072
          </p>
  
          <p class="footer_right">
            Spisesteder <br />
            Blog <br />
            <a href="omos.html">Om os</a>
          </p>
        </div>
  
        <div class="footer_rettigheder">
          <p>© 2022 The Delight Guide. All Rights Reserved.</p>
        </div>
      </footer>

    <script src="header.js"></script>




    <script>

      //------------- Lytter efter om DOM er loadet og går til start funktion
      document.addEventListener("DOMContentLoaded", start);
      
      let retter;
      let filter = "alle";
      
      
      
      
      
      //------------- Start funktion
      function start (){
      
      //------------- Find dataerne og load dem
      
      const url = "https://delight-6272.restdb.io/rest/restauranter";
      const options = {
          headers:{
              'x-apikey': "631b0361fdc15b0265f17265"
          }
      };
      
      async function hentData(){
          const respons = await fetch (url, options);
          retter = await respons.json();
          console.log(retter);
          vis();
      }
      
      
      



//------------- Tilføj eventlistener til lokation-knapper

const lokationknapper = document.querySelectorAll (".lokation_buttons button");
lokationknapper.forEach(knap => knap.addEventListener ("click", lokSorterSpisested));


//------------- Funktion lokSorterSpisested (sker når man trykker på lokation-knapper)

function lokSorterSpisested(){
  console.log("lokSorterSpisested funktion virker!");

}



//------------- Tilføj eventlistener til sorter-knapper

const sorterknapper = document.querySelectorAll (".sorter_buttons button");
sorterknapper.forEach(knap => knap.addEventListener ("click", sorterSpisested));


//------------- Funktion sorterSpisested (sker når man trykker på sorter-knapper)

function sorterSpisested(){
  console.log("sorterSpisested funktion virker!");

  const heading = document.querySelector (".kategoriheading")
    filter = this.dataset.retter
    heading.textContent = this.textContent;

  document.querySelector(".sortervalgt").classList.remove("sortervalgt");
  this.classList.add("sortervalgt");
    vis();

}


      

      
      
      
      
      
      
      //------------- constanter laves til section og template
      
      const section = document.querySelector("section")
      const template = document.querySelector("template").content;
      
      
      // //------------- vis funktion 
      
       function vis() {
        console.log("vis funktion virker!");

      
        section.textContent="";


        retter.forEach((ret => {
    
          // der er noget i vejen med restdb og linjen herunder
    if(filter == ret.kategori || filter == "alle") {
       const klon = template.cloneNode(true);
    klon.querySelector(".billede").src = "billeder/" + ret.billednavn;
    klon.querySelector(".navn").textContent = ret.navn;
    klon.querySelector(".overskrift").textContent = ret.overskrift;
    klon.querySelector(".adresse").textContent = ret.gade;

    klon.querySelector(".prisniveau").textContent = ret.prisniveau;
    // klon.querySelector(".detaljerknap").



// detaljerknap
    section.appendChild(klon);
    }

}));



      
       }
      
      hentData(); 
      
      }
      </script>
  





  </body>
</html>


